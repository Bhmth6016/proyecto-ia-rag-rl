# ============================================
# CONFIGURACIÓN PRINCIPAL DEL SISTEMA
# ============================================

# Directorios de datos
DATA_DIR=./data/raw
VECTOR_INDEX_PATH=./data/vector
CHROMA_DB_PATH=./data/processed/chroma_db

# Configuración Chroma DB
CHROMA_DB_COLLECTION=amazon_products
VECTOR_BACKEND=chroma

# Configuración de logging
LOG_LEVEL=INFO
LOG_FILE=./logs/amazon_recommendations.log

# Hardware
DEVICE=cpu

# Límites del sistema - CORREGIDO
MAX_PRODUCTS_TO_LOAD=1000  # Cambiado de 200 a 1000 para cumplir con la validación
MAX_QUERY_LENGTH=20000
MAX_QUERY_RESULTS=5

# Cache
CACHE_ENABLED=true

# Telemetría (anónima, opcional)
ANONYMIZED_TELEMETRY=false

# ============================================
# CONFIGURACIÓN ML 100% LOCAL
# ============================================

# Sistema ML completo
ML_ENABLED=true
ML_FEATURES=category,entities,embedding,similarity

# Collaborative Filter con ML
COLLABORATIVE_ML_ENABLED=true
ML_WEIGHT=0.3
MIN_SIMILAR_USERS=3
ML_EMBEDDING_DIM=384  # all-MiniLM-L6-v2 usa 384 dimensiones

# Embeddings locales
USE_SENTENCE_TRANSFORMERS=true
EMBEDDING_MODEL_ML=all-MiniLM-L6-v2  # Modelo local rápido y eficiente
CACHE_EMBEDDINGS=true
EMBEDDING_CACHE_DIR=./data/cache/embeddings

# Métricas ML
TRACK_ML_METRICS=true
ML_CONFIDENCE_THRESHOLD=0.6
ML_MIN_SIMILARITY=0.7

# ============================================
# CONFIGURACIÓN LLM LOCAL (Ollama)
# ============================================

# LLM Local
LOCAL_LLM_ENABLED=true
LOCAL_LLM_MODEL=llama-3.2-3b-instruct
LOCAL_LLM_ENDPOINT=http://localhost:11434
LOCAL_LLM_TIMEOUT=60
LOCAL_LLM_TEMPERATURE=0.1

# ============================================
# CONFIGURACIÓN MODELOS DE EMBEDDINGS
# ============================================

# Modelo de embeddings por defecto (100% local)
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Modelos alternativos locales disponibles:
# all-MiniLM-L6-v2 (384d, rápido)
# all-MiniLM-L12-v2 (384d, más preciso)
# paraphrase-multilingual-MiniLM-L12-v2 (384d, multilingüe)
# distiluse-base-multilingual-cased-v1 (512d, multilingüe)
# paraphrase-multilingual-mpnet-base-v2 (768d, muy preciso)

# ============================================
# CONFIGURACIÓN RL/RLHF
# ============================================

RL_MIN_SAMPLES=10
BATCH_SIZE=500
RLHF_CHECKPOINT=./data/models/rl_checkpoint.pth

# ============================================
# CONFIGURACIÓN AVANZADA
# ============================================

# Directorios del sistema
MODELS_DIR=./data/models
FEEDBACK_DIR=./data/feedback
RAW_DIR=./data/raw
PROC_DIR=./data/processed
LOG_DIR=./logs
HISTORIAL_DIR=./data/processed/historial

# Chroma settings optimizados
CHROMA_HNSW_SPACE=cosine
CHROMA_HNSW_CONSTRUCTION_EF=200
CHROMA_HNSW_SEARCH_EF=100
CHROMA_HNSW_M=16
BUILD_INDEX_IF_MISSING=true

# ============================================
# VALORES POR DEFECTO
# ============================================

# ML Categories (pueden personalizarse)
ML_CATEGORIES=Electronics,Home & Kitchen,Clothing & Accessories,Sports & Outdoors,Books & Media,Health & Beauty,Toys & Games,Automotive,Office Products,Other

# Cache sizes
ML_CACHE_SIZE=1000

# Umbrales
MIN_SIMILARITY_THRESHOLD=0.3
MIN_FEEDBACK_FOR_RETRAIN=5